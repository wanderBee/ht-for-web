!function(J,$,u){"use strict";var m="ht",Q=J[m],O=null,T=Math,r=T.abs,v=T.max,k=Number.MAX_VALUE,z=Q.Default,s=z.getInternal(),o=z.clone,e=s.vec3TransformMat4,q=s.appendArray,R=function(){var d=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,T=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,I=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,W=function(T,B){return B=parseInt(B),B>=0?T[B-1]:T[B+T.length]},b=function(r,p,l,C,v,n){if(r.vs){var B=W(p,C),Z=W(p,v),j=W(p,n),c=l.matrix,w=r.vs;if(l.flipFace){var F=Z;Z=j,j=F}c?(q(w,e(o(B),c)),q(w,e(o(Z),c)),q(w,e(o(j),c))):(q(w,B),q(w,Z),q(w,j))}},j=function(U,o,Z,A,m,G){if(U.vs){var H=W(o,A),_=W(o,m),V=W(o,G),J=Z.flipY;if(Z.flipFace){var D=_;_=V,V=D}U.uv.push(H[0],J?1-H[1]:H[1],_[0],J?1-_[1]:_[1],V[0],J?1-V[1]:V[1])}},p=function(t,l,T,Q,N,d){if(t.vs){var i=W(l,Q),J=W(l,N),s=W(l,d),a=T.normalMatrix,j=t.ns;if(T.flipFace){var E=J;J=s,s=E}a?(q(j,e(o(i),a)),q(j,e(o(J),a)),q(j,e(o(s),a))):(q(j,i),q(j,J),q(j,s))}},i=function(K,G,Y,f,Z,C,S,B){var s=f&&f.length&&B;C[3]===u?(b(K,G,Z,C[0],C[1],C[2]),S&&j(K,Y,Z,S[0],S[1],S[2]),s&&p(K,f,Z,B[0],B[1],B[2])):(b(K,G,Z,C[0],C[1],C[3]),b(K,G,Z,C[1],C[2],C[3]),S&&(j(K,Y,Z,S[0],S[1],S[3]),j(K,Y,Z,S[1],S[2],S[3])),s&&(p(K,f,Z,B[0],B[1],B[3]),p(K,f,Z,B[1],B[2],B[3])))},m=function(d,F,c,z){var i,R,p,S,e,y,P,W=k,J=k,j=k,M=-k,U=-k,n=-k;for(i in d)for(y=d[i].vs,P=y.length,R=0;P>R;R+=3)p=y[R+0],S=y[R+1],e=y[R+2],W>p&&(W=p),J>S&&(J=S),j>e&&(j=e),p>M&&(M=p),S>U&&(U=S),e>n&&(n=e);if(c){var Q=W+(M-W)/2,f=J+(U-J)/2,E=j+(n-j)/2;for(i in d)for(y=d[i].vs,P=y.length,R=0;P>R;R+=3)y[R+0]-=Q,y[R+1]-=f,y[R+2]-=E}var N,D,G;c?(N=M-W,D=U-J,G=n-j):(N=2*v(r(W),r(M)),D=2*v(r(J),r(U)),G=2*v(r(j),r(n))),0===N&&(N=Math.min(D,G)/1e3||.001),0===D&&(D=Math.min(N,G)/1e3||.001),0===G&&(G=Math.min(N,D)/1e3||.001),z.rawS3=[N,D,G];for(i in d){if(y=d[i].vs,F)for(P=y.length,R=0;P>R;R+=3)N&&(y[R+0]/=N),D&&(y[R+1]/=D),G&&(y[R+2]/=G);d[i].rawS3=z.rawS3}};return function(u,o,L){if(!u)return O;(s.isString(o)||o instanceof ArrayBuffer)&&(o=N(o)),L||(L={}),L.flipY==O&&(L.flipY=!0),(L.s3||L.r3||L.t3||L.mat)&&(L.matrix=s.createWorldMatrix(L.mat,L.s3,L.r3,L.rotationMode,L.t3));var A,v,K,a,C,Y,D=[],R=[],P=L.ignoreNormal?O:[],b=L.reverseFlipMtls,l={vs:[],uv:[],ns:P?[]:O},Q={htdefault:l},V=new E(u);for(P&&L.matrix&&(L.normalMatrix=s.createNormalMatrix(L.matrix));null!=(v=V.stepNext());)if(v=v.trim(),0!==v.length&&"#"!==v.charAt(0))if(v.indexOf("#QNAN0")>=0&&(v=v.replace(/#QNAN0/gi,"0")),K=d.exec(v))D.push([parseFloat(K[1]),parseFloat(K[2]),parseFloat(K[3])]);else if(K=T.exec(v))R.push([parseFloat(K[1]),parseFloat(K[2])]);else if(P&&(K=I.exec(v)))L.flipFace?P.push([parseFloat(-K[1]),parseFloat(-K[2]),parseFloat(-K[3])]):P.push([parseFloat(K[1]),parseFloat(K[2]),parseFloat(K[3])]);else if("f"===v[0]){var e=v.split(/\s+/);if(e.length<4)continue;var $,A,t,f=[],W=[],J=[];for(A=1,t=e.length;t>A;A++)$=e[A].split("/"),f.push(parseInt($[0],10)),$.length>1&&$[1].length>0&&J.push(parseInt($[1],10)),$.length>2&&$[2].length>0&&W.push(parseInt($[2],10));for(A=0,t=f.length-2;t>A;A++)i(l,D,R,P,L,[f[0],f[A+1],f[A+2]],J.length?[J[0],J[A+1],J[A+2]]:O,W.length?[W[0],W[A+1],W[A+2]]:O)}else if(/^usemtl /.test(v)&&(a=v.substring(7).trim(),!(l=Q[a]))){if(l={name:a,vs:[],uv:[],ns:P?[]:O},L.ignoreMtls&&L.ignoreMtls.indexOf(a)>=0&&delete l.vs,(L.reverseFlip||"*"===b||b&&b.indexOf(a)>=0)&&(l.reverseFlip=!0),o&&(C=o[a],C&&(L.ignoreColor||(l.color=C.kd),!L.ignoreTransparent&&C.d>0&&C.d<1&&(l.transparent=!0,l.opacity=C.d),!L.ignoreImage&&(Y=C.map_kd)))){Y=Y.split(" ");var G=-1;for(A=0;A<Y.length;A++)"-o"===Y[A]?(l.uvOffset=[parseFloat(Y[A+1]),parseFloat(Y[A+2])],A+=3,G=A):"-s"===Y[A]&&(l.uvScale=[parseFloat(Y[A+1]),parseFloat(Y[A+2])],A+=3,G=A);l.image=(L.prefix||"")+Y.splice(G+1).join(" ")}Q[a]=l}var F=[];for(var g in Q){var w=Q[g].vs;w&&0!==w.length||F.push(g)}F.forEach(function(b){delete Q[b]}),m(Q,L.cube,L.center,L);var X=L.shape3d;if(X){var r=[];for(var a in Q){var l=Q[a];r.rawS3=l.rawS3,r.push(l)}z.setShape3dModel(X,r)}return Q}}(),N=function(k){var O={};if(k)for(var N,m,T,Z,v,X,g=new E(k),l=/\s+/;null!=(m=g.stepNext());)m=m.trim(),0!==m.length&&"#"!==m.charAt(0)&&(T=m.indexOf(" "),Z=(T?m.substring(0,T):m).toLowerCase(),v=(T?m.substring(T+1):"").trim(),"newmtl"===Z?O[v]=N={name:v}:N&&("ka"===Z||"kd"===Z||"ks"===Z?(X=v.split(l,3),N[Z]=[parseFloat(X[0]),parseFloat(X[1]),parseFloat(X[2]),1]):N[Z]="ns"===Z||"d"===Z?parseFloat(v):v));return O},E=function(v){var s=this;if(v instanceof ArrayBuffer){s.isBuffer=!0;var m=0,i=new Uint8Array(v),n=i.length,Z=i.length;s.stepNext=function(){for(var r,g,u=m;n>m;)if(r=i[m],g=r>>4,12===g||13==g)m+=2;else if(14===g)m+=3;else if(m++,10===r)return String.fromCharCode.apply(null,i.subarray(u,m));return m>u?String.fromCharCode.apply(null,i.subarray(u,m)):null}}else{s.isBuffer=!1;var K=v.split("\n"),X=0,Z=K.length;s.stepNext=function(){return Z>X?K[X++]:null}}};E.prototype={},E.prototype.constructor=E,s.addMethod(z,{loadObj:function(V,X,a){a=a||{};var B=!1;/(MSIE |Trident\/|Edge\/)/.test(J.navigator.userAgent)&&(B=!0);var I=function(S){var L,K=a.finishFunc,t=a.shape3d,w=S?R(S[0],S[1],a):null;if(w){if(t)L=z.getShape3dModel(t);else{L=[];for(var o in w){var H=w[o];L.rawS3=H.rawS3,L.push(H)}}K&&K(w,L,L.rawS3)}else K&&K(null)};if(B){var T=function(K){a.responseType="arraybuffer",z.xhrLoad(V,function(A){I([A,K])},a)};X?z.xhrLoad(X,function(K){T(K)},a):T()}else z.xhrLoad(X?[V,X]:[V],I,a)},parseObj:function(w,y,E){return R(w,y,E)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);